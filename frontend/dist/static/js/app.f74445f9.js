(function(){"use strict";var t={7349:function(t,e,i){var o=i(9242),n=i(3396);const l={id:"app"};function s(t,e,i,o,s,a){const r=(0,n.up)("home-view");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(r)])}var a=i.p+"static/img/crover_logo_3leaf_rgb.d289fcf6.png";const r={class:"home-page"},d={class:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},c={class:"container-fluid"},h=(0,n._)("a",{class:"navbar-brand",href:"#"},[(0,n._)("img",{src:a,alt:"crover_logo",width:"80"})],-1),u=(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarScroll","aria-controls":"navbarScroll","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1),p={class:"collapse navbar-collapse",id:"navbarScroll"},m={class:"navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll",style:{"--bs-scroll-height":"100px"}},g={class:"nav-item"},w={class:"nav-item"};function b(t,e,i,o,l,s){const a=(0,n.up)("about-block"),b=(0,n.up)("emotion-block"),f=(0,n.up)("network-block");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("nav",d,[(0,n._)("div",c,[h,u,(0,n._)("div",p,[(0,n._)("ul",m,[(0,n._)("li",g,[(0,n._)("a",{class:"nav-link","data-toggle":"tab",href:"#emotion",role:"tab","aria-selected":"true",onClick:e[0]||(e[0]=t=>s.clickEmotionNav())},"Emotion")]),(0,n._)("li",w,[(0,n._)("a",{class:"nav-link","data-toggle":"tab",href:"#network",role:"tab","aria-selected":"true",onClick:e[1]||(e[1]=t=>s.clickNetworkNav())},"Network")])])])])]),(0,n.Wm)(a),(0,n.Wm)(b,{id:"emotion-block-id"}),(0,n.Wm)(f,{id:"network-block-id"})])}const f=t=>((0,n.dD)("data-v-c38e418e"),t=t(),(0,n.Cn)(),t),k={class:"about-block"},v=f((()=>(0,n._)("br",null,null,-1))),y=f((()=>(0,n._)("h1",null,"言葉の海に潜ってみよう",-1))),_=f((()=>(0,n._)("h2",null,"Twitter分析ツール",-1))),S={class:"about-align"},E=f((()=>(0,n._)("br",null,null,-1))),x=[E],W={class:"topSlide"},C=(0,n.Uk)(" 世界がネットワークで繋がって"),T=f((()=>(0,n._)("br",null,null,-1))),z=(0,n.Uk)(" 指先一つでどんな情報にもアクセスできるようになった"),M=f((()=>(0,n._)("br",null,null,-1))),D=(0,n.Uk)(" 毎日誰かの気の利いたつぶやきを目にするようになった"),N=f((()=>(0,n._)("br",null,null,-1))),B=(0,n.Uk)(" でもその一方で"),L=f((()=>(0,n._)("br",null,null,-1))),I=(0,n.Uk)(" 網目から零れ落ちるように無数の言葉が情報の海に沈んでいく"),H=f((()=>(0,n._)("br",null,null,-1))),R=(0,n.Uk)(" 限りなく開かれた空間の中に淀みが生まれ"),A=f((()=>(0,n._)("br",null,null,-1))),O=(0,n.Uk)(" 知らぬ間に周りが見えなくなる"),K=f((()=>(0,n._)("br",null,null,-1))),F=(0,n.Uk)(" 隣の人は何の話をしている？"),U=f((()=>(0,n._)("br",null,null,-1))),$=(0,n.Uk)(" あの話題について、みんなどう思っているんだろう？"),P=f((()=>(0,n._)("br",null,null,-1))),j=(0,n.Uk)(" 多様性は見えていないだけで、すぐそこにある"),Z=f((()=>(0,n._)("br",null,null,-1))),Y=(0,n.Uk)(" 分断を渡る地図を手に"),q=f((()=>(0,n._)("br",null,null,-1))),G=(0,n.Uk)(" 言葉の海に潜ってみよう"),V=f((()=>(0,n._)("br",null,null,-1))),J=f((()=>(0,n._)("br",null,null,-1))),X=f((()=>(0,n._)("h2",null,"お問い合わせ・開発参加",-1))),Q=f((()=>(0,n._)("a",{href:"https://twitter.com/snooze_jelly"},[(0,n._)("i",{class:"bi bi-twitter"}),(0,n.Uk)(" https://twitter.com/snooze_jelly")],-1))),tt=f((()=>(0,n._)("br",null,null,-1))),et=f((()=>(0,n._)("a",{href:"https://github.com/SnoozingJellyfish/crover"},[(0,n._)("i",{class:"bi bi-github"}),(0,n.Uk)(" GitHub")],-1))),it=f((()=>(0,n._)("br",null,null,-1))),ot=f((()=>(0,n._)("br",null,null,-1))),nt=f((()=>(0,n._)("h2",null,"License",-1))),lt=(0,n.Uk)(" 関連ワードの分割に"),st=f((()=>(0,n._)("a",{href:"http://www.cl.ecei.tohoku.ac.jp/~m-suzuki/jawiki_vector/"},"WikiEntVec（鈴木正敏、2019年/CC-BY-SA）",-1))),at=(0,n.Uk)("のword2vecを使用 "),rt=[C,T,z,M,D,N,B,L,I,H,R,A,O,K,F,U,$,P,j,Z,Y,q,G,V,J,X,Q,tt,et,it,ot,nt,lt,st,at],dt={class:"about-align"};function ct(t,e,i,l,s,a){return(0,n.wg)(),(0,n.iD)("div",k,[v,y,_,(0,n._)("div",S,[(0,n.wy)((0,n._)("span",{class:"about-toggle",onClick:e[0]||(e[0]=t=>s.isOpen=!0)}," ▼About ",512),[[o.F8,!s.isOpen]])]),(0,n.wy)((0,n._)("div",null,x,512),[[o.F8,s.isOpen]]),(0,n.Wm)(o.uT,{name:"topSlide",onBeforeEnter:t.beforeEnter,onEnter:t.enter,onBeforeLeave:t.beforeLeave,onLeave:t.leave},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",W,rt,512),[[o.F8,s.isOpen]])])),_:1},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"]),(0,n._)("div",dt,[(0,n.wy)((0,n._)("span",{class:"about-toggle",onClick:e[1]||(e[1]=t=>s.isOpen=!1)}," ▲close ",512),[[o.F8,s.isOpen]])])])}const ht={methods:{beforeEnter(t){t.style.height="0"},enter(t){t.style.height=t.scrollHeight+"px"},beforeLeave(t){t.style.height=t.scrollHeight+"px"},leave(t){t.style.height="0"}}};var ut={name:"about-block",mixins:[ht],data(){return{isOpen:!1,colMdMin:768}},mounted(){for(var t=document.getElementsByClassName("about-toggle"),e=0;e<t.length;e++)window.innerWidth<this.colMdMin?t[e].style.padding="0 30px 0 0":t[e].style.padding="0 60px 0 0"}},pt=i(89);const mt=(0,pt.Z)(ut,[["render",ct],["__scopeId","data-v-c38e418e"]]);var gt=mt,wt=i(7139);const bt=t=>((0,n.dD)("data-v-fa969df0"),t=t(),(0,n.Cn)(),t),ft={id:"emotion-block"},kt={class:"feature-block"},vt={class:"feature-title"},yt=bt((()=>(0,n._)("h2",null,[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",class:"icon-title-emotion"},[(0,n._)("path",{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm8 144H160c-13.2 0-24 10.8-24 24s10.8 24 24 24h176c13.2 0 24-10.8 24-24s-10.8-24-24-24z"})]),(0,n.Uk)(" 感情分析 ")],-1))),_t=(0,n.Uk)(" キーワードを含むツイートの感情と、一緒にツイートされている言葉を調べる "),St=(0,n.Uk)(" キーワードを含むツイートの中でよく出る単語を表示します。 "),Et=bt((()=>(0,n._)("br",null,null,-1))),xt=(0,n.Uk)("「意味で分ける」ボタンを押すと、単語のまとまりが意味によって分けられます。 "),Wt=bt((()=>(0,n._)("br",null,null,-1))),Ct=(0,n.Uk)("「感情分析」ボタンを押すと、それぞれのまとまりの単語を含むツイートをポジティブ・ニュートラル・ネガティブの3つに分類し、よく出る感情を表す言葉を表示します。 "),Tt=[St,Et,xt,Wt,Ct],zt={class:"row"},Mt={class:"form-group col-lg-3 col-md-5 col-sm-6 col-xs-12"},Dt={class:"form-group col-xl-1 col-md-2 col-sm-3 col-4"},Nt=bt((()=>(0,n._)("option",{selected:""},"500",-1))),Bt=bt((()=>(0,n._)("option",null,"1000",-1))),Lt=bt((()=>(0,n._)("option",null,"2000",-1))),It=[Nt,Bt,Lt],Ht=bt((()=>(0,n._)("div",{class:"form-group col-lg-1 col-md-2 col-sm-2 col-4"},[(0,n._)("label",{for:"TweetNum",class:"col-form-label"},"ツイート")],-1))),Rt={class:"form-group col-lg-1 col-md-3 col-sm-2 col-4 d-grid"},At=bt((()=>(0,n._)("label",{class:"trend-label"}," 今のトレンド ",-1))),Ot=["onClick"],Kt=bt((()=>(0,n._)("br",null,null,-1))),Ft={key:0,class:"topSlide result-region",id:"emotion-result-id"},Ut={key:0},$t={class:"row"},Pt={class:"col-md-6 col-12"},jt={class:"chart-caption-topic"},Zt={class:"row"},Yt=["onMouseover","onMouseleave"],qt={class:"bi bi-emoji-neutral-fill wc-box-face-bs"},Gt=["onClick","disabled"],Vt=["onClick","disabled"],Jt={class:"col-md-6 col-12"},Xt={class:"row"},Qt={class:"col-12"},te=bt((()=>(0,n._)("div",{class:"chart-caption"},[(0,n._)("span",null,"ツイート数"),(0,n._)("span",{class:"back-arrow"})],-1))),ee={class:"col-md-6 col-12"},ie=bt((()=>(0,n._)("div",{class:"chart-caption",id:"emotion-select-id"}," ツイート感情割合 ",-1))),oe={class:"col-md-6 col-12"},ne=bt((()=>(0,n._)("div",{class:"chart-caption"},"感情ワード",-1))),le={class:"emotion-table"},se={class:"nav nav-justified",id:"myTab",role:"tablist"},ae={class:"nav-item"},re={key:0,class:"bi bi-emoji-smile tab-icon"},de={key:1},ce={class:"nav-item"},he={key:0,class:"bi bi-emoji-neutral tab-icon"},ue={key:1},pe={class:"nav-item"},me={key:0,class:"bi bi-emoji-frown tab-icon"},ge={key:1},we={class:"tab-content",id:"myTabContent"},be={class:"tab-pane fade show active",role:"tabpanel","aria-labelledby":"positive-tab"},fe={class:"table table-striped"},ke={class:"tweet",id:"tbody-tweet"};function ve(t,e,i,l,s,a){const r=(0,n.up)("pulse-loader"),d=(0,n.up)("vue-d3-cloud"),c=(0,n.up)("Bar"),h=(0,n.up)("Pie");return(0,n.wg)(),(0,n.iD)("div",ft,[(0,n._)("div",kt,[(0,n._)("div",vt,[yt,_t,(0,n._)("i",{class:"bi bi-question-circle icon-help",onMouseover:e[0]||(e[0]=t=>s.isShowHelp=!0),onMouseleave:e[1]||(e[1]=t=>s.isShowHelp=!1)},null,32),(0,n.wy)((0,n._)("div",{class:"help-caption",style:(0,wt.j5)({width:a.helpCaptionSize+"px"})},Tt,4),[[o.F8,s.isShowHelp]]),(0,n._)("div",zt,[(0,n._)("div",Mt,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control input-form",id:"InputWord",name:"keyword",placeholder:"キーワード","onUpdate:modelValue":e[2]||(e[2]=t=>s.keyword=t),required:""},null,512),[[o.nr,s.keyword]])]),(0,n._)("div",Dt,[(0,n.wy)((0,n._)("select",{class:"form-control input-form",id:"TweetNum",name:"tweet_num","onUpdate:modelValue":e[3]||(e[3]=t=>s.tweetNum=t)},It,512),[[o.bM,s.tweetNum]])]),Ht,(0,n._)("div",Rt,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=t=>a.searchAnalyze())}," 探す ")])]),At,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.trend,(t=>((0,n.wg)(),(0,n.iD)("button",{key:t,onClick:e=>s.keyword=t,type:"button",class:"btn btn-outline-primary trend-button"},(0,wt.zw)(t),9,Ot)))),128)),Kt,s.isOpen?((0,n.wg)(),(0,n.iD)("div",Ft,[(0,n.Wm)(r,{loading:s.isSpinner,color:s.spinnerColor,size:s.spinnerSize,class:"spinner"},null,8,["loading","color","size"]),s.isSpinner?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Ut,[(0,n._)("div",$t,[(0,n._)("div",Pt,[(0,n._)("div",jt,[(0,n._)("i",{class:"bi bi-arrow-left-circle-fill back-arrow",style:(0,wt.j5)(a.backArrowStyle),onMouseover:e[5]||(e[5]=t=>a.focusBackArrow()),onMouseleave:e[6]||(e[6]=t=>a.blurBackArrow()),onClick:e[7]||(e[7]=t=>a.backCluster()),id:"back-arrow"},null,36),(0,n.Uk)(" 「"+(0,wt.zw)(s.searchKeyword)+"」と一緒に呟かれている言葉 ",1)]),(0,n._)("div",Zt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.topicWord,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:(0,wt.C_)(a.topicWordColClass)},[(0,n._)("div",{class:"wc-box",onMouseover:t=>s.displayWcButton[e]=!0,onMouseleave:t=>s.displayWcButton[e]=!1},[(0,n.Wm)(d,{data:t,fontSizeMapper:s.fontSizeMapper,width:a.topicCloudSize,height:a.topicCloudSize,font:"Noto Sans JP",colors:s.topicCloudColor,padding:5,class:"cloud-region"},null,8,["data","fontSizeMapper","width","height","colors"]),(0,n.wy)((0,n._)("i",qt,null,512),[[o.F8,s.displayWcEmotionIcon[e]]]),(0,n.wy)((0,n._)("button",{type:"button",class:"btn btn-info wc-box-split mb-3 ml-1 mr-1",onClick:t=>a.splitWc(e),disabled:s.disableSplit[e]}," 意味で分ける ",8,Gt),[[o.F8,s.displayWcButton[e]]]),(0,n.wy)((0,n._)("button",{type:"button",class:"btn btn-info wc-box-emotion mb-3 ml-1 mr-1",onClick:t=>a.clickWcEmotionButton(e),disabled:s.disableEmotionAnalysis[e]}," 感情分析 ",8,Vt),[[o.F8,s.displayWcButton[e]]])],40,Yt)],2)))),128))])]),(0,n._)("div",Jt,[(0,n._)("div",Xt,[(0,n._)("div",Qt,[te,(0,n.Wm)(c,{"chart-options":s.tweetedTimeOptions,"chart-data":s.tweetedTime,width:a.cloudSize,height:a.tweetedTimeHeight,class:"tweeted-time-chart"},null,8,["chart-options","chart-data","width","height"])]),(0,n._)("div",ee,[ie,(0,n.Wm)(h,{"chart-options":s.emotionRatioOptions,"chart-data":s.emotionRatio[s.selectedWcId],class:"emotion-ratio-chart",style:(0,wt.j5)({width:a.emotionRatioWidth+"px",height:a.emotionRatioHeight+"px"}),id:"emotion-ratio-chart-id"},null,8,["chart-options","chart-data","style"])]),(0,n._)("div",oe,[ne,(0,n._)("div",null,[(0,n.Wm)(d,{data:s.emotionWord[s.selectedWcId],fontSizeMapper:s.fontSizeMapper,width:a.emotionCloudWidth,height:a.emotionCloudWidth,font:"Noto Sans JP",colors:s.emotionCloudColor,padding:5,class:"cloud-region"},null,8,["data","fontSizeMapper","width","height","colors"])])])])])]),(0,n._)("div",le,[(0,n._)("ul",se,[(0,n._)("li",ae,[(0,n._)("a",{class:"nav-link active tab-positive",id:"positive-tab","data-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"true",onClick:e[8]||(e[8]=t=>a.clickPositiveTab())},[a.isMobile?((0,n.wg)(),(0,n.iD)("i",re)):((0,n.wg)(),(0,n.iD)("span",de,"ポジティブ"))])]),(0,n._)("li",ce,[(0,n._)("a",{class:"nav-link tab-neutral",id:"neutral-tab","data-toggle":"tab",href:"#profile",role:"tab","aria-controls":"profile","aria-selected":"false",onClick:e[9]||(e[9]=t=>a.clickNeutralTab())},[a.isMobile?((0,n.wg)(),(0,n.iD)("i",he)):((0,n.wg)(),(0,n.iD)("span",ue,"ニュートラル"))])]),(0,n._)("li",pe,[(0,n._)("a",{class:"nav-link tab-negative",id:"negative-tab","data-toggle":"tab",href:"#contact",role:"tab","aria-controls":"contact","aria-selected":"false",onClick:e[10]||(e[10]=t=>a.clickNegativeTab())},[a.isMobile?((0,n.wg)(),(0,n.iD)("i",me)):((0,n.wg)(),(0,n.iD)("span",ge,"ネガティブ"))])])]),(0,n._)("div",we,[(0,n._)("div",be,[(0,n._)("table",fe,[(0,n._)("tbody",ke,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.selectedTweet,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t,class:"tweetline"},[(0,n._)("td",{class:"tweetline",style:(0,wt.j5)({width:String(a.emotionTableWidth)+"px"})},(0,wt.zw)(t),5)])))),128))])])])])])]))])):(0,n.kq)("",!0)])])])}var ye=i(6265),_e=i.n(ye),Se=i(8229);const Ee={class:"wordCloud",ref:"wordCloud"};function xe(t,e,i,o,l,s){return(0,n.wg)(),(0,n.iD)("div",Ee,null,512)}var We=i(1291),Ce=i(7154),Te={data(){return{layout:{},chart:{},fill:null}},props:{data:{type:Array,required:!0},fontSizeMapper:{type:Function,required:!0},onWordClick:{type:Function,default:t=>{window.alert(`You clicked ${t.text}`)}},rotate:{type:[Function,String,Number],default:0},font:{type:[String,Function],default:"Serif"},width:{type:[Number,String],default:960},height:{type:[Number,String],default:500},padding:{type:[Number,String],default:0},spiral:{type:String,default:"archimedean"},coloring:{type:String,default:"random"},colors:{type:Array}},mounted(){this.createCanvas()},watch:{data(){this.createCanvas()},rotate(){this.createCanvas()},font(){this.createCanvas()},padding(){this.createCanvas()},spiral(){this.createCanvas()},colors(){this.createCanvas()},coloring(){this.createCanvas()}},methods:{createCanvas:function(){const t=this.data.map((t=>({...t})));We.Ys(this.$el).selectAll("*").remove();const e=Ce().size([this.width,this.height]).words(t).padding(this.padding).spiral(this.spiral).rotate(this.rotate).font(this.font).fontSize(this.fontSizeMapper).on("end",this.end);this.colors?this.fill=We.PKp().range(this.colors):this.fill=We.PKp(We.Cn1),e.start()},end:function(t){let e;switch(this.coloring){case"random":e=(t,e)=>this.fill(e);break;case"size":e=t=>this.fill(t.size);break;default:e=(t,e)=>this.fill(e)}We.Ys(this.$el).append("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform",`translate(${this.width/2},${this.height/2})`).selectAll("text").data(t).enter().append("text").style("font-family",(t=>t.font)).style("font-size",(t=>`${t.size}px`)).style("fill",e).attr("text-anchor","middle").attr("transform",(t=>`translate(${[t.x,t.y]})rotate(${t.rotate})`)).text((t=>t.text))}}};const ze=(0,pt.Z)(Te,[["render",xe]]);var Me=ze,De=(i(4386),i(6294)),Ne={components:{PulseLoader:Se.Z,VueD3Cloud:Me,Bar:De.$Q,Pie:De.by},mixins:[ht],name:"emotion-block",data(){return{navbarHeight:0,backendErrorcode:0,emotionResultElem:null,isOpen:!1,isShowHelp:!1,trend:"",keyword:"",searchKeyword:"",tweetNum:500,isSpinner:!0,spinnerColor:"#999",spinnerSize:"15px",doneSearch:!1,backArrowElem:null,displayWcEmotionIcon:[!0,!1,!1,!1],displayWcButton:[!1,!1,!1,!1],displayWcEmotionButton:[!1,!0,!0,!0],disableSplit:[!1,!1,!1,!1],disableEmotionAnalysis:[!1,!1,!1,!1],topicWcBgColor:["#fff","#fff","#fff","#fff"],selectedWcId:0,topicWord:[],emotionWord:[],fontSizeMapper:t=>10*Math.log2(t.value),topicCloudColor:["navy"],emotionCloudColor:["darkgreen"],tweetedTime:{},tweetedTimeOptions:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{}}}},barChartW:10,barChartH:3,emotionSelectElem:null,emotionRatio:[],emotionRatioOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{reverse:!0,display:!1}}},currentWindowWidth:0,colMdMin:768,tweet:{},focusEmotion:"positive",moreTweet:!0,positiveTab:null,neutralTab:null,negativeTab:null,positiveTabDefaultColor:"#e77181",neutralTabDefaultColor:"#5bca78",negativeTabDefaultColor:"#59a0f1",tbodyElem:null,isLoad:[{positive:!1,neutral:!1,negative:!1},{positive:!1,neutral:!1,negative:!1},{positive:!1,neutral:!1,negative:!1},{positive:!1,neutral:!1,negative:!1}]}},computed:{isMobile:function(){return this.currentWindowWidth<this.colMdMin},topicWordColClass:function(){return this.topicWord.length>1?"col-md-6 col-12":"col-12"},backArrowStyle:function(){return this.topicWord.length>1?{color:"rgb(151, 151, 151)"}:{color:"rgb(222, 222, 222)"}},helpCaptionSize:function(){return this.isMobile?String(this.currentWindowWidth-50):String(Number(this.currentWindowWidth/2)-140)},cloudSize:function(){return this.isMobile?String(this.currentWindowWidth-82):String(Number(this.currentWindowWidth/2)-140)},topicCloudSize:function(){return 1===this.topicWord.length||this.isMobile?this.cloudSize:this.cloudSize/2},tweetedTimeHeight:function(){return this.isMobile?String(Number(this.cloudSize)/2):String(Number(this.cloudSize)/3)},emotionRatioWidth:function(){return this.isMobile?this.cloudSize:String(3*Number(this.emotionCloudWidth)/4)},emotionRatioHeight:function(){return String(3*Number(this.emotionCloudWidth)/4)},emotionCloudWidth:function(){return this.isMobile?this.cloudSize:String(Number(this.currentWindowWidth/4)-65)},selectedTweet:function(){return"positive"===this.focusEmotion?this.tweet[this.selectedWcId].positive:"neutral"===this.focusEmotion?this.tweet[this.selectedWcId].neutral:"negative"===this.focusEmotion?this.tweet[this.selectedWcId].negative:void 0},emotionTableWidth:function(){return this.isMobile?this.currentWindowWidth-80:this.currentWindowWidth-170}},mounted(){this.emotionResultElem=document.getElementById("emotion-result-id"),_e().get("/trend").then((t=>this.trend=t.data)),console.log(this.trend),this.currentWindowWidth=window.innerWidth,window.addEventListener("resize",(()=>{this.currentWindowWidth=window.innerWidth})),this.navbarHeight=document.getElementsByClassName("navbar")[0].clientHeight},updated(){this.emotionResultElem||(this.emotionResultElem=document.getElementById("emotion-result-id")),this.emotionResultElem&&this.doneSearch&&(window.scrollTo({top:this.emotionResultElem.offsetTop-this.navbarHeight,behavior:"auto"}),this.doneSearch=!1),this.backArrowElem||(this.backArrowElem=document.getElementById("back-arrow")),this.tbodyElem||(this.tbodyElem=document.getElementById("tbody-tweet")),this.tbodyElem&&this.tbodyElem.addEventListener("scroll",this.loadTweet),this.positiveTab||(this.positiveTab=document.getElementById("positive-tab"),this.neutralTab=document.getElementById("neutral-tab"),this.negativeTab=document.getElementById("negative-tab"),this.positiveTab&&this.clickPositiveTab());var t=document.getElementsByClassName("result-region");if(t)for(var e=0;e<t.length;e++)this.isMobile?t[e].style.padding="0":t[e].style.padding="15px";var i=document.getElementById("emotion-ratio-chart-id");i&&(this.isMobile?i.style.margin="0 auto 0 auto":i.style.margin="80 auto 0 auto"),this.emotionSelectElem||(this.emotionSelectElem=document.getElementById("emotion-select-id"))},methods:{searchAnalyze(){this.selectWcEmotion(0),this.keyword=this.keyword.replace(/[,<\.>\/\\;:\]\}\[\{\$=\^\~\*¥\|\+]/g," "),this.keyword=this.keyword.replace(/[　]/g," "),this.keyword=this.keyword.replace(/ +/g," "),this.keyword=this.keyword.replace(/^ /g,""),this.keyword=this.keyword.replace(/ $/g,""),this.keyword=this.keyword.replace(/#+$/g,"");const t=this.keyword.replace(/[ ]/g,"");""!==t?(this.isSpinner=!0,this.tbodyElem=null,this.backArrowElem=null,_e().get("/search_analyze",{params:{keyword:this.keyword,tweetNum:this.tweetNum}}).then((t=>{if(this.backendErrorcode=t.data.errorcode,0!==this.backendErrorcode)return this.isSpinner=!1,void alert("不正な文字を含まないキーワードを入力してください。");this.searchKeyword=this.keyword,this.topicWord=t.data.topicWord,this.tweetedTime=t.data.tweetedTime,this.emotionRatio=t.data.emotionRatio,this.emotionWord=t.data.emotionWord,this.tweet=t.data.tweet,this.isSpinner=!1,this.isLoad=t.data.isLoad,this.doneSearch=!0;for(var e=0;e<this.topicWord.length;e++)1===this.topicWord[e].length||4===this.topicWord.length?this.disableSplit[e]=!0:this.disableSplit[e]=!1})),0===this.backendErrorcode&&(this.isOpen=!0,this.focusEmotion="positive",this.$nextTick((()=>{this.positiveTab=document.getElementById("positive-tab"),this.neutralTab=document.getElementById("neutral-tab"),this.negativeTab=document.getElementById("negative-tab"),this.clickPositiveTab(),this.tbodyElem=document.getElementById("tbody-tweet"),this.tbodyElem&&this.tbodyElem.addEventListener("scroll",this.loadTweet),this.backArrowElem=document.getElementById("back-arrow-elem")})))):alert("記号を含まないキーワードを入力してください。")},wordClickHandler(t,e,i){console.log("wordClickHandler",t,e,i)},splitWc(t){this.topicWord.length<4&&(_e().get("/split_wc",{params:{wcId:t}}).then((t=>{this.topicWord=t.data.topicWord,this.emotionRatio=t.data.emotionRatio,this.emotionWord=t.data.emotionWord,this.tweet=t.data.tweet,this.isLoad=t.data.isLoad;for(var e=0;e<this.topicWord.length;e++)1===this.topicWord[e].length||4===this.topicWord.length?this.disableSplit[e]=!0:this.disableSplit[e]=!1})),this.selectWcEmotion(0),this.clickPositiveTab())},selectWcEmotion(t){this.selectedWcId=t,this.displayWcEmotionIcon=[!1,!1,!1,!1],this.displayWcEmotionIcon[t]=!0,this.disableEmotionAnalysis=[!1,!1,!1,!1],this.disableEmotionAnalysis[t]=!0},clickWcEmotionButton(t){this.selectWcEmotion(t),this.emotionSelectElem&&this.isMobile&&window.scrollTo({top:this.emotionSelectElem.offsetTop-this.navbarHeight,behavior:"auto"})},focusBackArrow(){this.topicWord.length>1?(this.backArrowElem.style.color="rgb(140, 140, 140)",this.backArrowElem.style.cursor="pointer"):this.backArrowElem.style.cursor="default"},blurBackArrow(){this.topicWord.length>1&&(this.backArrowElem.style.color="rgb(151, 151, 151)")},backCluster(){this.topicWord.length>1&&(_e().get("/back_cluster").then((t=>{this.topicWord=t.data.topicWord,this.emotionRatio=t.data.emotionRatio,this.emotionWord=t.data.emotionWord,this.tweet=t.data.tweet,this.isLoad=t.data.isLoad})),this.selectWcEmotion(0),this.clickPositiveTab())},clickPositiveTab(){this.tbodyElem&&(this.tbodyElem.scroll({top:0}),this.focusEmotion="positive",this.focusTab(this.positiveTab,"rgb(240, 79, 100)","#f1afb8"),this.blurTab(this.neutralTab,this.neutralTabDefaultColor),this.blurTab(this.negativeTab,this.negativeTabDefaultColor))},clickNeutralTab(){this.tbodyElem.scroll({top:0}),this.focusEmotion="neutral",this.blurTab(this.positiveTab,this.positiveTabDefaultColor),this.focusTab(this.neutralTab,"rgb(44, 210, 88)","#60dd81"),this.blurTab(this.negativeTab,this.negativeTabDefaultColor)},clickNegativeTab(){this.tbodyElem.scroll({top:0}),this.focusEmotion="negative",this.blurTab(this.positiveTab,this.positiveTabDefaultColor),this.blurTab(this.neutralTab,this.neutralTabDefaultColor),this.focusTab(this.negativeTab,"rgb(64, 140, 255)","#6babf4")},focusTab(t,e,i){t.style.color="white",t.style.background=e,t.style.boxShadow="0 0 1px 3px "+i},blurTab(t,e){t.style.color="white",t.style.background=e,t.style.boxShadow="0 0"},loadTweet(){if(this.tbodyElem.scrollHeight-(this.tbodyElem.clientHeight+this.tbodyElem.scrollTop)<50&&this.isLoad[this.selectedWcId][this.focusEmotion]){var t=this.tweet[this.selectedWcId];_e().get("/load_tweet",{params:{wcId:this.selectedWcId,emotion:this.focusEmotion,tweetCnt:t[this.focusEmotion].length}}).then((e=>{this.isLoad[this.selectedWcId][this.focusEmotion]=e.data.isLoadOne,"positive"===this.focusEmotion?t.positive=t.positive.concat(e.data.addTweet):"neutral"===this.focusEmotion?t.neutral=t.neutral.concat(e.data.addTweet):"negative"===this.focusEmotion&&(t.negative=t.negative.concat(e.data.addTweet))}))}}}};const Be=(0,pt.Z)(Ne,[["render",ve],["__scopeId","data-v-fa969df0"]]);var Le=Be;const Ie=t=>((0,n.dD)("data-v-9daff0b2"),t=t(),(0,n.Cn)(),t),He={id:"network-block"},Re={class:"feature-block"},Ae={class:"feature-title"},Oe=Ie((()=>(0,n._)("h2",null,[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"icon-title-network"},[(0,n._)("path",{d:"M380.6 365.6C401.1 379.9 416 404.3 416 432C416 476.2 380.2 512 336 512C291.8 512 256 476.2 256 432C256 423.6 257.3 415.4 259.7 407.8L114.1 280.4C103.8 285.3 92.21 288 80 288C35.82 288 0 252.2 0 208C0 163.8 35.82 128 80 128C101.9 128 121.7 136.8 136.2 151.1L320 77.52C321.3 34.48 356.6 0 400 0C444.2 0 480 35.82 480 80C480 117.9 453.7 149.6 418.4 157.9L380.6 365.6zM156.3 232.2L301.9 359.6C306.9 357.3 312.1 355.4 317.6 354.1L355.4 146.4C351.2 143.6 347.4 140.4 343.8 136.9L159.1 210.5C159.7 218 158.5 225.3 156.3 232.2V232.2z"})]),(0,n.Uk)(" ネットワーク分析 ")],-1))),Ke=(0,n.Uk)(" よくリツイートされたツイートの関係性を調べる "),Fe=(0,n.Uk)(" よくリツイートされたツイートが丸で表示されます。 "),Ue=Ie((()=>(0,n._)("br",null,null,-1))),$e=(0,n.Uk)("リツイートされた回数が多いほど大きな丸になります。 "),Pe=Ie((()=>(0,n._)("br",null,null,-1))),je=(0,n.Uk)("線でつながった2つのツイートは同じユーザーにリツイートされることが多く、関連性が高いです。 "),Ze=[Fe,Ue,$e,Pe,je],Ye={class:"row"},qe={class:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},Ge=Ie((()=>(0,n._)("div",{class:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},[(0,n._)("label",{class:"col-form-label"},"に関するツイート")],-1))),Ve={class:"col-lg-3 col-md-4 col-sm-6 col-12"},Je={key:0,class:"form-group col-8 d-grid"},Xe={class:"form-group col-lg-1 col-md-3 col-sm-2 col-4 d-grid"},Qe={key:0,class:"topSlide result-region",id:"network-result-id"},ti={key:0},ei={class:"row"},ii={class:"col-md-6 col-12"},oi={class:"chart-caption-topic",id:"network-result"},ni={class:"network-region",id:"network-graph"},li=Ie((()=>(0,n._)("div",{id:"tweet-content",class:"tweet-content-class"},[(0,n._)("h4"),(0,n._)("p")],-1))),si={class:"col-md-3 col-12"},ai={class:"row"},ri={class:"col-12"},di=Ie((()=>(0,n._)("div",{class:"chart-caption"},"全体頻出ワード",-1))),ci={class:"col-12"},hi=Ie((()=>(0,n._)("div",{class:"chart-caption"},"グループ頻出ワード",-1))),ui=Ie((()=>(0,n._)("div",{id:"tweet-content",class:"tweet-content-class"},[(0,n._)("h4"),(0,n._)("p")],-1)));function pi(t,e,i,l,s,a){const r=(0,n.up)("Datepicker"),d=(0,n.up)("pulse-loader"),c=(0,n.up)("network",!0),h=(0,n.up)("vue-d3-cloud");return(0,n.wg)(),(0,n.iD)("div",He,[(0,n._)("div",Re,[(0,n._)("div",Ae,[Oe,Ke,(0,n._)("i",{class:"bi bi-question-circle icon-help",onMouseover:e[0]||(e[0]=t=>s.isShowHelp=!0),onMouseleave:e[1]||(e[1]=t=>s.isShowHelp=!1)},null,32),(0,n.wy)((0,n._)("div",{class:"help-caption",style:(0,wt.j5)({width:a.helpCaptionSize+"px"})},Ze,4),[[o.F8,s.isShowHelp]]),(0,n._)("div",Ye,[(0,n._)("div",qe,[(0,n.wy)((0,n._)("select",{class:"form-control input-form",id:"retweet-keyword",name:"keyword","onUpdate:modelValue":e[2]||(e[2]=t=>a.keyword=t)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.keywordList,(t=>((0,n.wg)(),(0,n.iD)("option",{key:t},(0,wt.zw)(t),1)))),128))],512),[[o.bM,a.keyword]])]),Ge,(0,n._)("div",Ve,[(0,n.Wm)(r,{modelValue:s.dateRange[s.selectedKeywordId],"onUpdate:modelValue":e[3]||(e[3]=t=>s.dateRange[s.selectedKeywordId]=t),minDate:s.minDateList[s.selectedKeywordId],maxDate:s.maxDateList[s.selectedKeywordId],enableTimePicker:!1,range:""},null,8,["modelValue","minDate","maxDate"])]),a.isMobile?((0,n.wg)(),(0,n.iD)("div",Je)):(0,n.kq)("",!0),(0,n._)("div",Xe,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=t=>a.analyzeNetwork())}," 探す ")])]),s.isOpen?((0,n.wg)(),(0,n.iD)("div",Qe,[(0,n.Wm)(d,{loading:s.isSpinner,color:s.spinnerColor,size:s.spinnerSize,class:"spinner"},null,8,["loading","color","size"]),s.isSpinner?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ti,[(0,n._)("div",ei,[(0,n._)("div",ii,[(0,n._)("div",oi," 「"+(0,wt.zw)(s.searchKeyword)+"」と一緒に呟かれているツイート ",1),(0,n._)("div",ni,[(0,n.Wm)(c,{nodeList:s.graphData["nodes"],linkList:s.graphData["links"],svgSize:{width:a.networkRegionSize,height:a.networkRegionSize},onHoverNode:a.hoverNode,onHoutNode:a.houtNode},null,8,["nodeList","linkList","svgSize","onHoverNode","onHoutNode"]),li])]),(0,n._)("div",si,[(0,n._)("div",ai,[(0,n._)("div",ri,[di,(0,n._)("div",null,[(0,n.Wm)(h,{data:s.wholeWord,fontSizeMapper:s.fontSizeMapper,width:a.cloudSize,height:a.cloudSize,font:"Noto Sans JP",colors:["black"],padding:5,class:"cloud-region"},null,8,["data","fontSizeMapper","width","height"])])]),(0,n._)("div",ci,[hi,(0,n._)("div",null,[(0,n.Wm)(h,{data:s.groupWord[s.selectedGroup],fontSizeMapper:s.fontSizeMapper,width:a.cloudSize,height:a.cloudSize,font:"Noto Sans JP",colors:[s.selectedGroupColor],padding:5,class:"cloud-region"},null,8,["data","fontSizeMapper","width","height","colors"])])])])])])]))])):(0,n.kq)("",!0)])]),ui])}var mi=i(2786),gi=i(7514);const wi=t=>((0,n.dD)("data-v-bfd90cfe"),t=t(),(0,n.Cn)(),t),bi=["textContent"],fi=["width","height"],ki={id:"container"},vi=["stroke","stroke-width"],yi=["fill","font-size"],_i={id:"node-group"},Si=["fill","stroke-width","stroke","r"],Ei=["dx","fill","font-size"],xi=wi((()=>(0,n._)("g",null,null,-1)));function Wi(t,e,i,l,s,a){return(0,n.wg)(),(0,n.iD)("div",{id:"network",style:(0,wt.j5)({width:i.svgSize.width+"px",height:i.svgSize.height+"px"})},[(0,n.wy)((0,n._)("div",{class:"linkText",style:(0,wt.j5)(s.linkTextPosition),textContent:(0,wt.zw)(s.linkTextContent)},null,12,bi),[[o.F8,s.linkTextVisible]]),((0,n.wg)(),(0,n.iD)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:i.svgSize.width,height:i.svgSize.height,style:(0,wt.j5)({"background-color":a.theme.bgcolor}),onMouseover:e[0]||(e[0]=(0,o.iM)(((...t)=>a.svgMouseover&&a.svgMouseover(...t)),["prevent"])),onMouseout:e[1]||(e[1]=(...t)=>a.svgMouseout&&a.svgMouseout(...t))},[(0,n._)("g",ki,[(0,n._)("g",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.links,(t=>((0,n.wg)(),(0,n.iD)("g",{key:t.index},[(0,n._)("line",{class:(0,wt.C_)(`${t[i.linkTypeKey]} ${t.selected} link element`),stroke:a.theme.linkStroke,"stroke-width":i.linkWidth},null,10,vi),i.showLinkText?((0,n.wg)(),(0,n.iD)("text",{key:0,dx:"0",dy:"0",class:"link-text",fill:a.theme.textFill,"font-size":i.linkTextFrontSize},(0,wt.zw)(t[i.linkTextKey]),9,yi)):(0,n.kq)("",!0)])))),128))]),(0,n._)("g",_i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.nodes,(t=>((0,n.wg)(),(0,n.iD)("g",{key:t.index},[(0,n._)("circle",{fill:s.nodeColor(t[i.nodeTypeKey]),"stroke-width":-1==i.highlightNodes.indexOf(t.id)?3:10,stroke:-1==i.highlightNodes.indexOf(t.id)?a.theme.nodeStroke:"gold",class:(0,wt.C_)(`${t[i.nodeTypeKey]} ${t.showText?"selected":""} node element`),r:Math.sqrt(t["count"]/50)},null,10,Si),(0,n.wy)((0,n._)("text",{dx:i.nodeSize+5,dy:"0",class:"node-text",fill:a.theme.textFill,"font-size":i.nodeTextFontSize},(0,wt.zw)(t[i.nodeTextKey]),9,Ei),[[o.F8,t.showText]])])))),128)),xi])])],44,fi))],4)}DOMTokenList.prototype.indexOf=Array.prototype.indexOf;var Ci={name:"network",props:{nodeList:Array,linkList:Array,nodeSize:{type:Number,default:14},nodeTextKey:{type:String,default:"id"},nodeTypeKey:{type:String,default:"group"},nodeTextFontSize:{type:Number,default:14},linkWidth:{type:Number,default:2},showLinkText:{type:Boolean,default:!1},linkTextKey:{type:String,default:"value"},linkTypeKey:{type:String,default:"type"},linkTextFrontSize:{type:Number,default:10},linkDistance:{type:Number,default:50},svgSize:{type:Object,default:()=>({width:window.innerWidth,height:window.innerHeight})},svgTheme:{type:String,default:"light"},bodyStrength:{type:Number,default:-150},highlightNodes:{type:Array,default:()=>[]}},data(){return{selection:{links:[],nodes:[]},pinned:[],force:null,zoom:We.sPX(),nodeColor:We.PKp(We.Cn1),linkTextVisible:!1,linkTextPosition:{top:0,left:0},linkTextContent:""}},computed:{nodes(){let t=this.nodeList.slice(),e=[];return t=t.filter((t=>-1===e.indexOf(t.id)&&(e.push(t.id),!0))),t},links(){return this.linkList},theme(){return"light"===this.svgTheme?{bgcolor:"#f8f8f8",nodeStroke:"white",linkStroke:"lightgray",textFill:"black"}:{bgcolor:"black",nodeStroke:"white",linkStroke:"rgba(200,200,200)",textFill:"white"}}},watch:{bodyStrength:function(){this.initData(),this.$nextTick((function(){this.initDragTickZoom()}))},linkDistance:function(){this.initData(),this.$nextTick((function(){this.initDragTickZoom()}))},nodes:function(){this.initData(),this.$nextTick((function(){this.initDragTickZoom()}))}},created(){this.initData()},mounted(){this.initDragTickZoom()},methods:{initData(){this.force=We.A4v(this.nodes).force("link",We.Fsl(this.links).id((t=>t.id)).distance(this.linkDistance)).force("charge",We.q5i().strength(this.bodyStrength)).force("center",We.wqt(this.svgSize.width/2,this.svgSize.height/2))},initDragTickZoom(){We.td_(".node").call(this.drag(this.force)),this.force.on("tick",(()=>{We.td_(".link").data(this.links).attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),We.td_(".node").data(this.nodes).attr("cx",(t=>t.x)).attr("cy",(t=>t.y)),We.td_(".node-text").data(this.nodes).attr("x",(t=>t.x)).attr("y",(t=>t.y)),We.td_(".link-text").data(this.links).attr("x",(t=>(t.source.x+t.target.x)/2)).attr("y",(t=>(t.source.y+t.target.y)/2))})),this.zoom.scaleExtent([.1,4]).on("zoom",(function(t){We.Ys("svg").attr("transform",t.transform)})),We.Ys("svg").call(this.zoom)},clickLink(t){this.$emit("clickLink",t,t.target.__data__)},clickNode(t){0===this.pinned.length?this.pinnedState(t):(We.td_(".element").style("opacity",.2),this.pinned=[]),this.$emit("clickNode",t,t.target.__data__)},clickEle(t){"circle"===t.target.tagName?this.clickNode(t):"line"===t.target.tagName&&this.clickLink(t)},svgMouseover(t){"circle"===t.target.nodeName?(We.Ys(t.target).attr("fill","red"),this.pinned.length,this.$emit("hoverNode",t,t.target.__data__)):"line"===t.target.nodeName&&(this.linkTextPosition={left:t.clientX+"px",top:t.clientY-50+"px"},this.linkTextContent=t.target.__data__[this.linkTextKey],this.$emit("hoverLink",t,t.target.__data__))},svgMouseout(t){this.linkTextVisible=!1,"circle"===t.target.nodeName&&(We.Ys(t.target).attr("fill",this.nodeColor(t.target.__data__.group)),this.pinned.length,this.$emit("houtNode",t,t.target.__data__))},selectedState(t){t.target.__data__.showText=!0,t.target.classList.add("selected"),this.selection.nodes.push(t.target.__data__),this.lightNeibor(t.target.__data__),We.td_(".element").style("opacity",.2)},noSelectedState(t){t.target.__data__.showText=!1,this.darkenNerbor(),We.td_(".element").style("opacity",1)},pinnedState(t){this.pinned.push(t.target.__data__.index),We.td_(".element").style("opacity",.05)},lightNeibor(t){this.links.forEach((e=>{e.source.index===t.index&&(e.selected="selected",this.selection.links.push(e),this.selection.nodes.push(e.target),this.lightNode(e.target)),e.target.index===t.index&&(e.selected="selected",this.selection.links.push(e),this.selection.nodes.push(e.source),this.lightNode(e.source))}))},lightNode(t){this.nodes.forEach((e=>{e.index===t.index&&(e.showText=!0)}))},darkenNerbor(){this.links.forEach((t=>{this.selection.links.forEach((e=>{e.id===t.id&&(t.selected="")}))})),this.nodes.forEach((t=>{this.selection.nodes.forEach((e=>{e.id===t.id&&(t.showText=!1)}))})),this.selection.nodes=[],this.selection.links=[]},zoomed(){console.log("zoom"),We.Ys("svg").attr("transform",We.event.transform)},drag(t){function e(t){t.fx=t.x,t.fy=t.y}function i(t){}function o(t){t.fx=null,t.fy=null}return We.ohM().on("start",e).on("drag",i).on("end",o)}}};const Ti=(0,pt.Z)(Ci,[["render",Wi],["__scopeId","data-v-bfd90cfe"]]);var zi=Ti,Mi={components:{Datepicker:mi.Z,PulseLoader:Se.Z,Network:zi,VueD3Cloud:Me},mixins:[ht],name:"network-block",data(){return{navbarHeight:0,backendErrorcode:0,isOpen:!1,isShowHelp:!1,keywordList:[],searchKeyword:"",startDateList:[],minDateList:[],maxDateList:[],dateRange:[],datePickerFormat:"",isSpinner:!0,spinnerColor:"#999",spinnerSize:"15px",doneSearch:!1,selectedKeywordId:0,wholeWord:[],groupWord:[],colorScale:We.Cn1,fontSizeMapper:t=>10*Math.log2(t.value),currentWindowWidth:0,colMdMin:768,networkGraphElem:null,networkRegionElem:null,graphData:{},nodeData:{},tweetContentElem:null,selectedGroup:0,selectedGroupColor:""}},computed:{isMobile:function(){return this.currentWindowWidth<this.colMdMin},helpCaptionSize:function(){return this.isMobile?String(this.currentWindowWidth-50):String(Number(this.currentWindowWidth/2)-140)},networkRegionSize:function(){return this.isMobile?this.currentWindowWidth-82:this.currentWindowWidth/2-140},tweetContentWidth:function(){return this.isMobile?this.networkRegionSize-30:200},cloudSize:function(){return this.isMobile?this.networkRegionSize:this.currentWindowWidth/4-110},keyword:function(){return this.keywordList[this.selectedKeywordId]}},mounted(){const t=document.getElementById("retweet-keyword");t.onchange=()=>this.selectedKeywordId=t.selectedIndex,_e().get("/init_retweet").then((t=>{this.keywordList=t.data.keywordList;for(var e=0;e<this.keywordList.length;e++){var i=t.data.minDateList[e],o=String(Number(i.substr(5,2))-1),n=new Date(i.substr(0,4),o,i.substr(8,2));this.minDateList.push(n),i=t.data.maxDateList[e];var l=String(Number(i.substr(5,2))-1),s=new Date(i.substr(0,4),l,i.substr(8,2));this.maxDateList.push(s),i=t.data.startDateList[e];var a=String(Number(i.substr(5,2))-1),r=new Date(i.substr(0,4),a,i.substr(8,2));this.dateRange.push([r,s])}this.selectedKeywordId=0})),this.currentWindowWidth=window.innerWidth,window.addEventListener("resize",(()=>{this.currentWindowWidth=window.innerWidth})),this.navbarHeight=document.getElementsByClassName("navbar")[0].clientHeight},updated(){this.tweetContentElem||(this.tweetContentElem=document.getElementById("tweet-content")),this.networkGraphElem||(this.networkGraphElem=document.getElementById("network-graph")),this.networkResultElem||(this.networkResultElem=document.getElementById("network-result")),this.networkResultElem&&this.doneSearch&&(window.scrollTo({top:this.networkResultElem.offsetTop-this.navbarHeight,behavior:"auto"}),this.doneSearch=!1);var t=document.getElementsByClassName("result-region");if(t)for(var e=0;e<t.length;e++)this.isMobile?t[e].style.padding="0":t[e].style.padding="15px"},methods:{analyzeNetwork(){if(this.dateRange[this.selectedKeywordId][1]){this.isSpinner=!0,this.networkResultElem=null;var t=(0,gi.Z)(this.dateRange[this.selectedKeywordId][0],"yyyy-MM-dd"),e=(0,gi.Z)(this.dateRange[this.selectedKeywordId][1],"yyyy-MM-dd");_e().get("/analyze_network",{params:{keyword:this.keyword,startDate:t,endDate:e}}).then((t=>{if(this.backendErrorcode=t.data.errorcode,0!==this.backendErrorcode)return this.isSpinner=!1,void alert("エラーが発生しました。");this.searchKeyword=this.keyword,this.wholeWord=t.data.wholeWord,this.groupWord=t.data.groupWord,this.isSpinner=!1,this.selectedGroup=this.groupWord.length-1,this.graphData=t.data.graph,this.doneSearch=!0})),0===this.backendErrorcode&&(this.isOpen=!0)}else alert("ツイートを収集する最終日を入力してください。")},wordClickHandler(t,e,i){console.log("wordClickHandler",t,e,i)},hoverNode(t,e){if(this.nodeData=e,this.selectedGroupColor=this.colorScale[e.group],this.tweetContentElem=We.Ys("#tweet-content"),this.isMobile)var i=10;else i=e.x+30+this.tweetContentWidth<this.networkGraphElem.offsetLeft+this.networkRegionSize?e.x+10:e.x-10-this.tweetContentWidth;this.tweetContentElem.style("left",i+"px").style("top",e.y+10+"px").style("bottom",null).style("width",this.tweetContentWidth+"px").style("z-index",0).style("opacity",1),this.tweetContentElem.select("h4").style("border-bottom","2px solid "+this.selectedGroupColor).style("margin-right","0px").text(e.author),this.tweetContentElem.select("p").text(e.tweet),this.selectedGroup=e.group,this.isMobile||this.$nextTick((()=>{var t=document.getElementById("tweet-content");this.networkGraphElem=document.getElementById("network-graph"),window.pageYOffset+t.getBoundingClientRect().height+e.y>this.networkGraphElem.offsetTop+this.networkRegionSize&&this.tweetContentElem.style("bottom","10px").style("top",null)}))},houtNode(t,e){this.tweetContentElem.style("opacity",0),this.selectedGroup=this.groupWord.length-1}}};const Di=(0,pt.Z)(Mi,[["render",pi],["__scopeId","data-v-9daff0b2"]]);var Ni=Di,Bi={name:"home-page",components:{AboutBlock:gt,EmotionBlock:Le,NetworkBlock:Ni},data(){return{colMdMin:768,aboutElem:null,emotionBlockElem:null,networkBlockElem:null,navbarHeight:0,titleElems:null}},mounted(){this.navbarHeight=document.getElementsByClassName("navbar")[0].clientHeight,document.body.style.paddingTop=String(this.navbarHeight)+"px",this.aboutElem=document.getElementsByClassName("about-block")[0],window.innerWidth<this.colMdMin?this.aboutElem.style.padding="0 20px 0 20px":this.aboutElem.style.padding="0 40px 0 40px",this.emotionBlockElem=document.getElementById("emotion-block-id"),this.networkBlockElem=document.getElementById("network-block-id"),this.titleElems=document.getElementsByClassName("feature-title");for(var t=0;t<this.titleElems.length;t++)window.innerWidth<this.colMdMin?this.titleElems[t].style.padding="20px":this.titleElems[t].style.padding="40px"},methods:{clickEmotionNav(){window.scrollTo({top:this.emotionBlockElem.offsetTop-this.navbarHeight})},clickNetworkNav(){window.scrollTo({top:this.networkBlockElem.offsetTop-this.navbarHeight})}}};const Li=(0,pt.Z)(Bi,[["render",b]]);var Ii=Li,Hi={name:"app",components:{HomeView:Ii},data(){return{activeIndex:this.$route.name,emotionBlockElem:null}}};const Ri=(0,pt.Z)(Hi,[["render",s]]);var Ai=Ri,Oi=i(9907);(0,Oi.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var Ki=i(678);const Fi=[{path:"/",name:"home-page",component:Ii},{path:"/about",name:"about-page",component:gt}],Ui=(0,Ki.p7)({history:(0,Ki.PO)("/"),routes:Fi});var $i=Ui,Pi=i(65),ji=(0,Pi.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Zi=(i(6744),i(8125)),Yi=i(2274),qi=i(8321);const Gi=["viewBox"],Vi=["d"];function Ji(t,e,i,o,l,s){return(0,n.wg)(),(0,n.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",class:(0,wt.C_)(t.$props.class),viewBox:`0 0 ${t.width} ${t.height}`},[(0,n._)("path",{fill:"currentColor",d:t.svgPath},null,8,Vi)],10,Gi)}var Xi=(0,n.aZ)({name:"FontAwesomeIcon",props:{icon:{type:String,required:!0},type:{type:String,default:"far",required:!1},class:String},setup(t){const e=(0,n.Fl)((()=>(0,Zi.N)({prefix:t.type,iconName:t.icon}))),i=(0,n.Fl)((()=>e.value.icon[0])),o=(0,n.Fl)((()=>e.value.icon[1])),l=(0,n.Fl)((()=>e.value.icon[4]));return{width:i,height:o,svgPath:l}}});const Qi=(0,pt.Z)(Xi,[["render",Ji]]);var to=Qi;Zi.vI.add(Yi.NCV,qi.mRB),(0,o.ri)(Ai).use(ji).use($i).component("fa",to).mount("#app")}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var l=e[o]={exports:{}};return t[o].call(l.exports,l,l.exports,i),l.exports}i.m=t,function(){var t=[];i.O=function(e,o,n,l){if(!o){var s=1/0;for(c=0;c<t.length;c++){o=t[c][0],n=t[c][1],l=t[c][2];for(var a=!0,r=0;r<o.length;r++)(!1&l||s>=l)&&Object.keys(i.O).every((function(t){return i.O[t](o[r])}))?o.splice(r--,1):(a=!1,l<s&&(s=l));if(a){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}l=l||0;for(var c=t.length;c>0&&t[c-1][2]>l;c--)t[c]=t[c-1];t[c]=[o,n,l]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,l,s=o[0],a=o[1],r=o[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(r)var c=r(i)}for(e&&e(o);d<s.length;d++)l=s[d],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(c)},o=self["webpackChunkcrover"]=self["webpackChunkcrover"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(7349)}));o=i.O(o)})();
//# sourceMappingURL=app.f74445f9.js.map